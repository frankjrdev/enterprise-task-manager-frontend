<header class="header">
  <div class="header__container">
    <div class="header__left">
      <section class="header__breadcrumbs">
        @if (hasBreadcrumbs()) {
          <app-breadcrumbs
            [breadcrumbs]="breadcrumbs()"
            [showIcons]="true"
            separator="/"
            (breadcrumbClick)="onBreadcrumbClick($event)"
          />
        }
      </section>

      @if (showSearch()) {
        <section class="header__search">
          <app-search-input
            [placeholder]="searchPlaceholder()"
            [isSearching]="isSearching()"
            ariaLabel="Search in {{ pageTitle() }}"
            (searchQuery)="onSearch($event)"
            (clear)="onSearchClear()"
          />
        </section>
      }
    </div>

    <section class="header__actions">
      <button
        type="button"
        class="header__action-button header__action-button--icon"
        [class.header__action-button--has-badge]="hasNotifications()"
        [attr.aria-label]="
          'Notifications' + (hasNotifications() ? ', ' + notificationCount() + ' unread' : '')
        "
        (click)="onNotificationsClick()"
      >
        <mat-icon>notifications</mat-icon>

        @if (hasNotifications()) {
          <span class="header__badge">
            {{ notificationCount() }}
          </span>
        }
      </button>

      <button
        type="button"
        class="header__action-button header__action-button--primary"
        aria-label="Create new task"
        (click)="onNewTaskClick()"
      >
        <mat-icon>add</mat-icon>
        <span class="header__action-label">New Task</span>
      </button>
    </section>
  </div>
</header>
